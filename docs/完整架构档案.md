# ã€Šçµå¢ƒæ–—å® å½•ã€‹å®Œæ•´æ¶æ„æ¡£æ¡ˆ

## ğŸ“‹ é¡¹ç›®æ¦‚è§ˆ

### åŸºæœ¬ä¿¡æ¯
- **é¡¹ç›®åç§°**: çµå¢ƒæ–—å® å½• (Lingjing Pet Game)
- **é¡¹ç›®ç±»å‹**: AIé©±åŠ¨çš„æ²‰æµ¸å¼æ–‡å­—å® ç‰©å…»æˆæ¸¸æˆ
- **å¼€å‘è¯­è¨€**: JavaScript (Node.js + HTML5)
- **æ•°æ®åº“**: SQLite
- **AIå¼•æ“**: DeepSeek API
- **éƒ¨ç½²æ–¹æ¡ˆ**: Vercel (å…è´¹) â†’ Steam (å•†ä¸šåŒ–)
- **ä½œè€…**: æ ‘æ (å¾®ä¿¡: wzq8083)
- **GitHub**: https://github.com/filejerry/lingjing-pet-game

### æ ¸å¿ƒç†å¿µ
åŸºäºä¸–ç•Œæ ‘ç§å­æ¦‚å¿µï¼Œé€šè¿‡ä¸‰å±‚AIæ¶æ„é©±åŠ¨çš„å±±æµ·ç»ä¸»é¢˜å® ç‰©å…»æˆæ¸¸æˆï¼Œå¼ºè°ƒæ²‰æµ¸å¼æ–‡å­—æ¼”ç»å’Œç‹¬ç‰¹çš„å® ç‰©ç”Ÿæˆç³»ç»Ÿã€‚

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### æ•´ä½“æ¶æ„å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å‰ç«¯å±•ç¤ºå±‚ (Frontend)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ æ²‰æµ¸å¼æ–‡å­—æ¼”ç»ç•Œé¢ (local-game.html)                      â”‚
â”‚  â€¢ åœ¨çº¿ç‰ˆæœ¬ç•Œé¢ (line-by-line-adventure.html)                â”‚
â”‚  â€¢ ä¸€è¡Œè¡Œæ–‡å­—æµ®ç°æ•ˆæœ + ç²’å­èƒŒæ™¯                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    ä¸šåŠ¡é€»è¾‘å±‚ (Backend)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ Express.js æœåŠ¡å™¨ (app.js)                               â”‚
â”‚  â€¢ è·¯ç”±ç³»ç»Ÿ (routes/)                                        â”‚
â”‚  â€¢ ä¸‰å±‚AIæ¶æ„ (ai/)                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    æ•°æ®å­˜å‚¨å±‚ (Database)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ SQLite æ•°æ®åº“ (database.js)                              â”‚
â”‚  â€¢ 8ä¸ªæ ¸å¿ƒæ•°æ®è¡¨                                             â”‚
â”‚  â€¢ æœ¬åœ°å­˜å‚¨ (LocalStorage)                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    AIæœåŠ¡å±‚ (AI Engine)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ DeepSeek API é›†æˆ                                        â”‚
â”‚  â€¢ å® ç‰©ç”Ÿæˆå¼•æ“                                              â”‚
â”‚  â€¢ æ•…äº‹ç”Ÿæˆå¼•æ“                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¸‰å±‚AIæ¶æ„è¯¦è§£
```
L1 è®°å½•å±‚ (Record Layer)
â”œâ”€â”€ æ”¶é›†ç©å®¶è¡Œä¸ºæ•°æ®
â”œâ”€â”€ è®°å½•å® ç‰©çŠ¶æ€å˜åŒ–
â””â”€â”€ å­˜å‚¨ç¯å¢ƒäº¤äº’ä¿¡æ¯

L3 åˆ¤æ–­å±‚ (Judgment Layer)
â”œâ”€â”€ åˆ†æç©å®¶é€‰æ‹©æ„å›¾
â”œâ”€â”€ è¯„ä¼°å® ç‰©è¿›åŒ–æ¡ä»¶
â””â”€â”€ å†³ç­–æ•…äº‹åˆ†æ”¯èµ°å‘

L2 è¿›åŒ–å±‚ (Evolution Layer)
â”œâ”€â”€ æ‰§è¡Œå® ç‰©å±æ€§å˜åŒ–
â”œâ”€â”€ ç”Ÿæˆæ–°çš„èƒ½åŠ›ç‰¹å¾
â””â”€â”€ åˆ›å»ºè¿›åŒ–è·¯å¾„

L3 å›ºåŒ–å±‚ (Solidification Layer)
â”œâ”€â”€ ç¡®è®¤æœ€ç»ˆå±æ€§å€¼
â”œâ”€â”€ ä¿å­˜è¿›åŒ–ç»“æœ
â””â”€â”€ æ›´æ–°æ•°æ®åº“è®°å½•
```

---

## ğŸ’¾ æ•°æ®åº“è®¾è®¡

### æ ¸å¿ƒæ•°æ®è¡¨ç»“æ„

#### 1. users (ç”¨æˆ·è¡¨)
```sql
CREATE TABLE users (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    username TEXT UNIQUE NOT NULL,
    email TEXT UNIQUE,
    password_hash TEXT,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    last_login DATETIME,
    game_progress TEXT DEFAULT '{}',
    settings TEXT DEFAULT '{}'
);
```

#### 2. pets (å® ç‰©åŸºç¡€ä¿¡æ¯è¡¨)
```sql
CREATE TABLE pets (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER,
    name TEXT NOT NULL,
    species TEXT NOT NULL,
    rarity TEXT NOT NULL,
    level INTEGER DEFAULT 1,
    experience INTEGER DEFAULT 0,
    health INTEGER DEFAULT 100,
    attack INTEGER DEFAULT 10,
    defense INTEGER DEFAULT 10,
    speed INTEGER DEFAULT 10,
    special_traits TEXT DEFAULT '[]',
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    last_interaction DATETIME DEFAULT CURRENT_TIMESTAMP,
    evolution_stage INTEGER DEFAULT 0,
    custom_name TEXT,
    FOREIGN KEY (user_id) REFERENCES users (id)
);
```

#### 3. pet_lore (å® ç‰©èƒŒæ™¯æ•…äº‹è¡¨)
```sql
CREATE TABLE pet_lore (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    pet_id INTEGER UNIQUE,
    background_story TEXT,
    detailed_description TEXT,
    personality_traits TEXT,
    special_abilities TEXT,
    origin_story TEXT,
    evolution_history TEXT,
    ai_prompt_settings TEXT,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (pet_id) REFERENCES pets (id)
);
```

#### 4. pet_species (å® ç‰©ç§æ—æ¨¡æ¿è¡¨)
```sql
CREATE TABLE pet_species (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT UNIQUE NOT NULL,
    category TEXT NOT NULL,
    base_rarity TEXT NOT NULL,
    base_stats TEXT NOT NULL,
    evolution_paths TEXT DEFAULT '[]',
    special_traits TEXT DEFAULT '[]',
    lore_template TEXT,
    is_legendary BOOLEAN DEFAULT FALSE
);
```

#### 5. story_templates (å‰§æƒ…æ¨¡æ¿åº“è¡¨)
```sql
CREATE TABLE story_templates (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    template_name TEXT NOT NULL,
    category TEXT NOT NULL,
    content TEXT NOT NULL,
    trigger_conditions TEXT DEFAULT '{}',
    variables TEXT DEFAULT '[]',
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

#### 6. pet_traits (å® ç‰©è¯æ¡è¡¨)
```sql
CREATE TABLE pet_traits (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    pet_id INTEGER,
    trait_name TEXT NOT NULL,
    trait_value TEXT,
    trait_type TEXT NOT NULL,
    acquired_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (pet_id) REFERENCES pets (id)
);
```

#### 7. adventure_events (å†’é™©äº‹ä»¶è¡¨)
```sql
CREATE TABLE adventure_events (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER,
    event_type TEXT NOT NULL,
    event_data TEXT NOT NULL,
    choices_made TEXT DEFAULT '[]',
    outcomes TEXT DEFAULT '[]',
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users (id)
);
```

#### 8. game_config (æ¸¸æˆé…ç½®è¡¨)
```sql
CREATE TABLE game_config (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    config_key TEXT UNIQUE NOT NULL,
    config_value TEXT NOT NULL,
    description TEXT,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

---

## ğŸ® æ ¸å¿ƒç³»ç»Ÿè®¾è®¡

### å® ç‰©ç”Ÿæˆç³»ç»Ÿ

#### å® ç‰©å‘½åè§„åˆ™
```javascript
// æ ¼å¼: è‡ªå®šä¹‰å (ç§æ—*ç¨€æœ‰åº¦) æˆ– ç§æ—*å±æ€§*ç‰¹æ®Šè¯
// ç¤ºä¾‹:
"å°ç« (ç«é¾™*SSR)"           // è‡ªå®šä¹‰åå­—
"ç«é¾™*çƒˆç„°*ç»è¿¹"            // ç³»ç»Ÿç”Ÿæˆåå­—
"ä¹å°¾ç‹*å¹»å½±*ä¼ è¯´"          // ä¼ è¯´çº§å® ç‰©
```

#### ç¨€æœ‰åº¦ç³»ç»Ÿ
```javascript
const RARITY_SYSTEM = {
    SSS: {
        name: "ä¼ è¯´",
        color: "rainbow", // ä¸ƒå½©è‰²
        probability: 0.1,
        statMultiplier: 3.0
    },
    SSR: {
        name: "å²è¯—", 
        color: "red",     // çº¢è‰²
        probability: 1.0,
        statMultiplier: 2.5
    },
    SR: {
        name: "ç¨€æœ‰",
        color: "purple",  // ç´«è‰²
        probability: 5.0,
        statMultiplier: 2.0
    },
    R: {
        name: "ä¼˜ç§€",
        color: "blue",    // è“è‰²
        probability: 20.0,
        statMultiplier: 1.5
    },
    N: {
        name: "æ™®é€š",
        color: "gray",    // ç°è‰²
        probability: 73.9,
        statMultiplier: 1.0
    }
};
```

#### å® ç‰©æ•°æ®æ¶æ„
```javascript
// æ ¸å¿ƒæ•°æ® (å­˜å‚¨åœ¨petsè¡¨)
const petCoreData = {
    species: "ç«é¾™",
    rarity: "SSR", 
    baseStats: { health: 100, attack: 25, defense: 20, speed: 15 },
    specialTraits: ["çƒˆç„°", "é£è¡Œ", "é¾™å¨"]
};

// è¯¦ç»†å†…å®¹ (AIç”Ÿæˆï¼Œå­˜å‚¨åœ¨pet_loreè¡¨)
const petLoreData = {
    backgroundStory: "åœ¨ä¸–ç•Œæ ‘çš„çƒˆç„°ææ¡ä¸Šè¯ç”Ÿ...",
    detailedDescription: "æ‹¥æœ‰èµ¤çº¢é³ç‰‡çš„å·¨é¾™...",
    personalityTraits: "é«˜å‚²ã€å¿ è¯šã€ä¿æŠ¤æ¬²å¼º",
    specialAbilities: "çƒˆç„°åæ¯ã€é¾™é³æŠ¤ç›¾ã€ç©ºä¸­éœ¸ä¸»",
    originStory: "ä¼ è¯´ä¸­çš„ç«é¾™ä¸€æ—...",
    evolutionHistory: "ä»ç«èœ¥èœ´è¿›åŒ–è€Œæ¥..."
};
```

### ä¸‰å±‚AIå·¥ä½œæµç¨‹

#### L1 è®°å½•å±‚ (RecordLayer.js)
```javascript
class RecordLayer {
    async recordPlayerAction(playerId, action, context) {
        // è®°å½•ç©å®¶è¡Œä¸º
        // å­˜å‚¨ç¯å¢ƒçŠ¶æ€
        // æ”¶é›†äº¤äº’æ•°æ®
    }
    
    async recordPetState(petId, stateData) {
        // è®°å½•å® ç‰©çŠ¶æ€å˜åŒ–
        // è¿½è¸ªå±æ€§å˜åŒ–
        // ä¿å­˜è¡Œä¸ºæ¨¡å¼
    }
}
```

#### L3 åˆ¤æ–­å±‚ (JudgmentLayer.js)
```javascript
class JudgmentLayer {
    async analyzePlayerChoice(choiceData, context) {
        // åˆ†æç©å®¶é€‰æ‹©æ„å›¾
        // è¯„ä¼°é€‰æ‹©å½±å“
        // å†³å®šåç»­åˆ†æ”¯
    }
    
    async evaluateEvolutionConditions(petData, environmentData) {
        // è¯„ä¼°è¿›åŒ–æ¡ä»¶
        // è®¡ç®—è¿›åŒ–æ¦‚ç‡
        // é€‰æ‹©è¿›åŒ–è·¯å¾„
    }
}
```

#### L2 è¿›åŒ–å±‚ (EvolutionLayer.js)
```javascript
class EvolutionLayer {
    async executePetEvolution(petId, evolutionPath) {
        // æ‰§è¡Œå±æ€§å˜åŒ–
        // ç”Ÿæˆæ–°ç‰¹å¾
        // åˆ›å»ºè¿›åŒ–æ•…äº‹
    }
    
    async generateNewAbilities(petData, evolutionContext) {
        // ç”Ÿæˆæ–°èƒ½åŠ›
        // åˆ›å»ºç‰¹æ®Šè¯æ¡
        // æ›´æ–°æŠ€èƒ½æ ‘
    }
}
```

#### L3 å›ºåŒ–å±‚ (SolidificationLayer.js)
```javascript
class SolidificationLayer {
    async solidifyChanges(petId, changes) {
        // ç¡®è®¤æœ€ç»ˆå±æ€§
        // ä¿å­˜åˆ°æ•°æ®åº“
        // æ›´æ–°æ¸¸æˆçŠ¶æ€
    }
    
    async validateAndSave(data) {
        // æ•°æ®éªŒè¯
        // æŒä¹…åŒ–å­˜å‚¨
        // çŠ¶æ€åŒæ­¥
    }
}
```

---

## ğŸ­ å‰ç«¯ç•Œé¢è®¾è®¡

### æ²‰æµ¸å¼æ–‡å­—æ¼”ç»ç³»ç»Ÿ

#### æ ¸å¿ƒç‰¹æ€§
- **ä¸€è¡Œè¡Œæ–‡å­—æµ®ç°**: æ¯è¡Œé—´éš”1.5ç§’ï¼Œå¸¦æ·¡å…¥ç¼©æ”¾åŠ¨ç”»
- **æç®€UIè®¾è®¡**: æ‰€æœ‰æ§åˆ¶æŒ‰é’®éšè—åœ¨å³ä¸Šè§’
- **é«˜çº§æ„Ÿè§†è§‰**: é‡‘è‰²æ¸å˜æ ‡é¢˜ã€åŠé€æ˜èƒŒæ™¯ã€ç²’å­æ•ˆæœ
- **è‡ªå®šä¹‰å‘½å**: ç©å®¶å¯ä¸ºå® ç‰©èµ·åï¼Œæ ¼å¼çµæ´»

#### åŠ¨ç”»æ•ˆæœ
```css
/* æ–‡å­—æµ®ç°åŠ¨ç”» */
.story-line {
    opacity: 0;
    transform: translateY(20px) scale(0.95);
    animation: lineAppear 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

@keyframes lineAppear {
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

/* é€‰æ‹©æŒ‰é’®æ‚¬æµ®æ•ˆæœ */
.choice-button:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(255, 215, 0, 0.4);
    background: linear-gradient(135deg, rgba(255, 215, 0, 0.15), rgba(255, 255, 255, 0.1));
}
```

#### ç•Œé¢å¸ƒå±€
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        [æ§åˆ¶æŒ‰é’®åŒº]                          â”‚
â”‚                                                   [ä¿å­˜][åŠ è½½] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚                    [ä¸­å¤®æ–‡å­—æ¼”ç»èˆå°]                        â”‚
â”‚                                                             â”‚
â”‚                   æ–‡å­—ä¸€è¡Œè¡Œæµ®ç°                             â”‚
â”‚                   é€‰æ‹©æŒ‰é’®ä¼˜é›…å‘ˆç°                           â”‚
â”‚                   å® ç‰©ä¿¡æ¯åŠ¨ç”»å±•ç¤º                           â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [çŠ¶æ€ä¿¡æ¯]                                                   â”‚
â”‚ å½“å‰å® ç‰©: 1åª                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸŒ ä¸–ç•Œè§‚è®¾å®š

### ä¸–ç•Œæ ‘ç¥è¯ä½“ç³»
```
ä¸–ç•Œæ ‘ç§å­ â†’ çµå¢ƒä¸–ç•Œè¯ç”Ÿ
â”œâ”€â”€ ä¹å¤§ç•ŒåŸŸ
â”‚   â”œâ”€â”€ æ£®æ—ç•Œ (æœ¨ç³»ç”Ÿç‰©æ –æ¯åœ°)
â”‚   â”œâ”€â”€ é«˜åŸç•Œ (åœŸç³»ç”Ÿç‰©æ –æ¯åœ°) 
â”‚   â”œâ”€â”€ æµ·æ´‹ç•Œ (æ°´ç³»ç”Ÿç‰©æ –æ¯åœ°)
â”‚   â”œâ”€â”€ å¤©ç©ºç•Œ (é£ç³»ç”Ÿç‰©æ –æ¯åœ°)
â”‚   â”œâ”€â”€ æ¢¦å¹»ç•Œ (å¹»ç³»ç”Ÿç‰©æ –æ¯åœ°)
â”‚   â”œâ”€â”€ çµç•Œ   (çµç³»ç”Ÿç‰©æ –æ¯åœ°)
â”‚   â”œâ”€â”€ é¾™ç•Œ   (é¾™ç³»ç”Ÿç‰©æ –æ¯åœ°)
â”‚   â”œâ”€â”€ å†¥ç•Œ   (æš—ç³»ç”Ÿç‰©æ –æ¯åœ°)
â”‚   â””â”€â”€ åœ£ç•Œ   (å…‰ç³»ç”Ÿç‰©æ –æ¯åœ°)
â”œâ”€â”€ ç”Ÿç‰©æ—ç¾¤
â”‚   â”œâ”€â”€ å±±æµ·ç»ä¼ ç»Ÿç”Ÿç‰© (é¾™ã€å‡¤ã€éº’éºŸã€é²²ç­‰)
â”‚   â”œâ”€â”€ ç²¾æ€ªæ—ç¾¤ (å„ç§è‡ªç„¶ç²¾çµ)
â”‚   â”œâ”€â”€ ç¥å…½æ—ç¾¤ (ä¼ è¯´çº§ç”Ÿç‰©)
â”‚   â””â”€â”€ å˜å¼‚æ—ç¾¤ (è¿›åŒ–å˜å¼‚ä½“)
â””â”€â”€ å‰§æƒ…çº¿ç´¢
    â”œâ”€â”€ ä¸–ç•Œæ ‘å¤è‹ä¹‹è°œ
    â”œâ”€â”€ ä¹ç•Œå¹³è¡¡å±æœº
    â””â”€â”€ å¤è€é¢„è¨€å®ç°
```

### å® ç‰©ç§æ—åˆ†ç±»
```javascript
const SPECIES_CATEGORIES = {
    é¾™æ—: {
        species: ["ç«é¾™", "å†°é¾™", "é›·é¾™", "æš—é¾™", "å…‰é¾™", "ä¹å¤´é¾™"],
        baseRarity: "SR",
        specialTraits: ["é¾™å¨", "é£è¡Œ", "å…ƒç´ æŒæ§"]
    },
    å‡¤æ—: {
        species: ["ç«å‡¤", "å†°å‡¤", "é›·å‡¤", "ä¹è‰²å‡¤", "ä¸æ­»é¸Ÿ"],
        baseRarity: "SR", 
        specialTraits: ["æ¶…æ§ƒ", "é£è¡Œ", "æ²»æ„ˆä¹‹å…‰"]
    },
    éº’éºŸæ—: {
        species: ["ç«éº’éºŸ", "æ°´éº’éºŸ", "é£éº’éºŸ", "åœ£éº’éºŸ"],
        baseRarity: "SSR",
        specialTraits: ["ç¥¥ç‘", "å‡€åŒ–", "é¢„çŸ¥"]
    },
    é²²æ—: {
        species: ["åŒ—å†¥é²²", "å¤©ç©ºé²²", "æ·±æµ·é²²", "æ˜Ÿç©ºé²²"],
        baseRarity: "SSR",
        specialTraits: ["å·¨å¤§åŒ–", "ç©ºé—´ç©¿è¶Š", "åå™¬"]
    },
    ç²¾æ€ªæ—: {
        species: ["ä¹å°¾ç‹", "ç™½æ³½", "é¥•é¤®", "æ¢¼æŒ", "ç©·å¥‡"],
        baseRarity: "SSR",
        specialTraits: ["å˜åŒ–", "æ™ºæ…§", "ç‰¹æ®Šèƒ½åŠ›"]
    }
};
```

---

## ğŸ”§ æŠ€æœ¯å®ç°

### é¡¹ç›®æ–‡ä»¶ç»“æ„
```
chognwu/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app.js                 # ä¸»æœåŠ¡å™¨æ–‡ä»¶
â”‚   â”œâ”€â”€ ai/                    # AIç³»ç»Ÿæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ RecordLayer.js     # L1è®°å½•å±‚
â”‚   â”‚   â”œâ”€â”€ JudgmentLayer.js   # L3åˆ¤æ–­å±‚  
â”‚   â”‚   â”œâ”€â”€ EvolutionLayer.js  # L2è¿›åŒ–å±‚
â”‚   â”‚   â”œâ”€â”€ SolidificationLayer.js # L3å›ºåŒ–å±‚
â”‚   â”‚   â”œâ”€â”€ PetMatchingEngine.js   # å® ç‰©åŒ¹é…å¼•æ“
â”‚   â”‚   â””â”€â”€ PetLoreGenerator.js    # å® ç‰©èƒŒæ™¯ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â””â”€â”€ database.js        # æ•°æ®åº“æ¨¡å‹
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ petGeneratorRoutes.js # å® ç‰©ç”Ÿæˆè·¯ç”±
â”‚   â”‚   â””â”€â”€ gameRoutes.js      # æ¸¸æˆè·¯ç”±
â”‚   â”œâ”€â”€ story/
â”‚   â”‚   â”œâ”€â”€ StoryEngine.js     # æ•…äº‹å¼•æ“
â”‚   â”‚   â”œâ”€â”€ StoryDatabase.js   # æ•…äº‹æ•°æ®åº“
â”‚   â”‚   â””â”€â”€ StoryIntegration.js # æ•…äº‹é›†æˆ
â”‚   â””â”€â”€ utils/
â”‚       â””â”€â”€ aiConfig.js        # AIé…ç½®
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ local-game.html        # æœ¬åœ°æ¸¸ç©ç•Œé¢
â”‚   â”œâ”€â”€ line-by-line-adventure.html # åœ¨çº¿ç‰ˆç•Œé¢
â”‚   â””â”€â”€ evolution-system.js    # å‰ç«¯è¿›åŒ–ç³»ç»Ÿ
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ äº§å“è®¾è®¡æ–‡æ¡£.md
â”‚   â”œâ”€â”€ æŠ€æœ¯å®ç°æ–‡æ¡£.md
â”‚   â”œâ”€â”€ æ¸¸æˆæ¶æ„æ–‡æ¡£.md
â”‚   â””â”€â”€ å®Œæ•´æ¶æ„æ¡£æ¡ˆ.md        # æœ¬æ–‡æ¡£
â”œâ”€â”€ data/                      # æ•°æ®æ–‡ä»¶
â”œâ”€â”€ logs/                      # æ—¥å¿—æ–‡ä»¶
â”œâ”€â”€ package.json
â””â”€â”€ start.js                   # å¯åŠ¨è„šæœ¬
```

### æ ¸å¿ƒä¾èµ–
```json
{
  "dependencies": {
    "express": "^4.18.2",
    "better-sqlite3": "^8.7.0", 
    "axios": "^1.5.0",
    "bcryptjs": "^2.4.3",
    "body-parser": "^1.20.2",
    "winston": "^3.10.0"
  }
}
```

### å¯åŠ¨å‘½ä»¤
```bash
# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨æœåŠ¡å™¨
node start.js

# è®¿é—®æœ¬åœ°ç‰ˆ (æ— éœ€æ³¨å†Œ)
http://localhost:3000/local-game.html

# è®¿é—®åœ¨çº¿ç‰ˆ (éœ€è¦æ³¨å†Œ)
http://localhost:3000/line-by-line-adventure.html
```

---

## ğŸš€ éƒ¨ç½²æ–¹æ¡ˆ

### å¼€å‘ç¯å¢ƒ
- **æœ¬åœ°å¼€å‘**: Node.js + SQLite
- **ç«¯å£**: 3000
- **æ•°æ®å­˜å‚¨**: æœ¬åœ°æ•°æ®åº“æ–‡ä»¶ + LocalStorage

### ç”Ÿäº§ç¯å¢ƒ

#### é˜¶æ®µä¸€: å…è´¹éƒ¨ç½² (Vercel)
```yaml
# vercel.json
{
  "version": 2,
  "builds": [
    {
      "src": "start.js",
      "use": "@vercel/node"
    }
  ],
  "routes": [
    {
      "src": "/(.*)",
      "dest": "/start.js"
    }
  ]
}
```

#### é˜¶æ®µäºŒ: å•†ä¸šåŒ–éƒ¨ç½² (Steam)
- **å¹³å°**: Steamæ¸¸æˆå¹³å°
- **ç±»å‹**: ç‹¬ç«‹æ¸¸æˆ
- **å®šä»·**: å…è´¹æ¸¸æˆ + DLCå†…å®¹
- **ç‰¹æ€§**: æˆå°±ç³»ç»Ÿã€äº‘å­˜æ¡£ã€ç¤¾åŒºåŠŸèƒ½

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½ç‰¹æ€§

### 1. æ²‰æµ¸å¼æ–‡å­—æ¼”ç»
- ä¸€è¡Œè¡Œæ–‡å­—æµ®ç°æ•ˆæœ (1.5ç§’é—´éš”)
- ç”µå½±çº§åŠ¨ç”»è¿‡æ¸¡
- æç®€UIè®¾è®¡
- ç²’å­èƒŒæ™¯æ•ˆæœ

### 2. AIé©±åŠ¨å® ç‰©ç”Ÿæˆ
- ä¸‰å±‚AIæ¶æ„å¤„ç†
- ç‹¬ç‰¹å® ç‰©ç”Ÿæˆç®—æ³•
- 100+ç§å® ç‰©æ•°æ®åº“
- è‡ªå®šä¹‰å‘½åç³»ç»Ÿ

### 3. ç¨€æœ‰åº¦ç³»ç»Ÿ
- 5çº§ç¨€æœ‰åº¦ (N/R/SR/SSR/SSS)
- é¢œè‰²ç¼–ç  (ç°/è“/ç´«/çº¢/ä¸ƒå½©)
- æ¦‚ç‡æ§åˆ¶ (SSR 1%æ¦‚ç‡)
- å±æ€§å€ç‡åŠ æˆ

### 4. è¿›åŒ–ç³»ç»Ÿ
- éšæœºè¿›åŒ–æ ‘
- ä¸‰å±‚AIæ¨¡å‹é©±åŠ¨
- å¤šè·¯å¾„é€‰æ‹©
- ç¨€æœ‰åº¦æå‡æœºåˆ¶

### 5. å‰§æƒ…ç³»ç»Ÿ
- å±±æµ·ç»ä¸»é¢˜æ•…äº‹
- åŠ¨æ€å‰§æƒ…ç”Ÿæˆ
- é€‰æ‹©åˆ†æ”¯ç³»ç»Ÿ
- ä¸–ç•Œæ ‘èƒŒæ™¯è®¾å®š

### 6. æ•°æ®æŒä¹…åŒ–
- SQLiteæ•°æ®åº“å­˜å‚¨
- æœ¬åœ°LocalStorageå¤‡ä»½
- äº‘ç«¯åŒæ­¥ (åœ¨çº¿ç‰ˆ)
- å­˜æ¡£å¯¼å…¥å¯¼å‡º

---

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

### ç³»ç»Ÿæ€§èƒ½
- **å¯åŠ¨æ—¶é—´**: < 3ç§’
- **å“åº”æ—¶é—´**: < 500ms
- **å†…å­˜å ç”¨**: < 100MB
- **æ•°æ®åº“å¤§å°**: < 50MB

### ç”¨æˆ·ä½“éªŒ
- **æ–‡å­—æµ®ç°**: 1.5ç§’/è¡Œ
- **åŠ¨ç”»æµç•…åº¦**: 60FPS
- **åŠ è½½æ—¶é—´**: < 2ç§’
- **æ“ä½œå“åº”**: < 200ms

---

## ğŸ”® æœªæ¥è§„åˆ’

### çŸ­æœŸç›®æ ‡ (1-3ä¸ªæœˆ)
- [ ] å®Œå–„å® ç‰©è¿›åŒ–ç³»ç»Ÿ
- [ ] å¢åŠ æˆ˜æ–—ç³»ç»Ÿ
- [ ] ä¼˜åŒ–AIå“åº”é€Ÿåº¦
- [ ] æ·»åŠ éŸ³æ•ˆç³»ç»Ÿ

### ä¸­æœŸç›®æ ‡ (3-6ä¸ªæœˆ)
- [ ] å¤šäººåœ¨çº¿åŠŸèƒ½
- [ ] å® ç‰©äº¤æ˜“ç³»ç»Ÿ
- [ ] å…¬ä¼šç³»ç»Ÿ
- [ ] æ’è¡Œæ¦œåŠŸèƒ½

### é•¿æœŸç›®æ ‡ (6-12ä¸ªæœˆ)
- [ ] Steamå¹³å°å‘å¸ƒ
- [ ] ç§»åŠ¨ç«¯é€‚é…
- [ ] VRç‰ˆæœ¬å¼€å‘
- [ ] å›½é™…åŒ–æ”¯æŒ

---

## ğŸ› ï¸ ç»´æŠ¤æŒ‡å—

### æ—¥å¸¸ç»´æŠ¤
```bash
# æŸ¥çœ‹æ—¥å¿—
tail -f logs/app.log

# æ•°æ®åº“å¤‡ä»½
cp data/game.db data/backup/game_$(date +%Y%m%d).db

# é‡å¯æœåŠ¡
pm2 restart chognwu

# æ›´æ–°ä»£ç 
git pull origin main
npm install
```

### æ•…éšœæ’é™¤
```bash
# ç«¯å£å ç”¨æ£€æŸ¥
netstat -ano | findstr :3000

# è¿›ç¨‹æ¸…ç†
taskkill /F /PID [è¿›ç¨‹ID]

# æ•°æ®åº“ä¿®å¤
sqlite3 data/game.db ".schema"
```

---

## ğŸ“ è”ç³»ä¿¡æ¯

- **ä½œè€…**: æ ‘æ
- **å¾®ä¿¡**: wzq8083
- **GitHub**: https://github.com/filejerry/lingjing-pet-game
- **é¡¹ç›®åœ°å€**: e:/Development/Projects/chognwu

---

## ğŸ“„ ç‰ˆæƒå£°æ˜

æœ¬é¡¹ç›®ä¸ºåŸåˆ›ä½œå“ï¼Œç‰ˆæƒå½’ä½œè€…æ‰€æœ‰ã€‚
é¡¹ç›®åŸºäºMITè®¸å¯è¯å¼€æºï¼Œæ¬¢è¿è´¡çŒ®ä»£ç ã€‚

---

*æœ€åæ›´æ–°: 2025å¹´9æœˆ28æ—¥*
*æ–‡æ¡£ç‰ˆæœ¬: v1.0*