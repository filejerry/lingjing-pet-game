<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çµå¢ƒæ–—å® å½• - ä¸–ç•Œæ ‘çš„ç§å­</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', 'Microsoft YaHei', monospace;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
            color: #e0e0e0;
            height: 100vh;
            overflow: hidden;
            position: relative;
        }

        /* èƒŒæ™¯ç²’å­æ•ˆæœ */
        .particles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .particle {
            position: absolute;
            width: 2px;
            height: 2px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            animation: float 6s infinite ease-in-out;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.3; }
            50% { transform: translateY(-20px) rotate(180deg); opacity: 0.8; }
        }

        .game-container {
            position: relative;
            z-index: 2;
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .story-display {
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid #333;
            border-radius: 15px;
            padding: 40px;
            margin-bottom: 30px;
            min-height: 400px;
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .story-title {
            font-size: 2.5em;
            text-align: center;
            margin-bottom: 30px;
            background: linear-gradient(45deg, #ffd700, #ffed4e, #ffd700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
            animation: titleGlow 3s ease-in-out infinite alternate;
        }

        @keyframes titleGlow {
            0% { text-shadow: 0 0 20px rgba(255, 215, 0, 0.3); }
            100% { text-shadow: 0 0 30px rgba(255, 215, 0, 0.6); }
        }

        .story-content {
            font-size: 1.2em;
            line-height: 1.8;
            text-align: justify;
            color: #d0d0d0;
            min-height: 200px;
        }

        .typewriter-text {
            border-right: 2px solid #ffd700;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 50% { border-color: #ffd700; }
            51%, 100% { border-color: transparent; }
        }

        .choices-container {
            background: rgba(0, 0, 0, 0.6);
            border-radius: 10px;
            padding: 20px;
            backdrop-filter: blur(5px);
        }

        .choice-button {
            display: block;
            width: 100%;
            padding: 15px 20px;
            margin: 10px 0;
            background: linear-gradient(45deg, #1a1a2e, #16213e);
            border: 2px solid #333;
            border-radius: 8px;
            color: #e0e0e0;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            font-family: inherit;
        }

        .choice-button:hover {
            background: linear-gradient(45deg, #2a2a3e, #26314e);
            border-color: #ffd700;
            transform: translateX(10px);
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.2);
        }

        .choice-button:active {
            transform: translateX(5px) scale(0.98);
        }

        .author-info {
            position: absolute;
            bottom: 20px;
            right: 20px;
            font-size: 0.9em;
            color: #888;
            background: rgba(0, 0, 0, 0.5);
            padding: 10px 15px;
            border-radius: 20px;
            backdrop-filter: blur(5px);
        }

        .loading-indicator {
            text-align: center;
            color: #ffd700;
            font-size: 1.1em;
            margin: 20px 0;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .loading-indicator.show {
            opacity: 1;
        }

        .loading-dots {
            animation: loadingDots 1.5s infinite;
        }

        @keyframes loadingDots {
            0%, 20% { content: ''; }
            40% { content: '.'; }
            60% { content: '..'; }
            80%, 100% { content: '...'; }
        }

        .loading-dots::after {
            content: '';
            animation: loadingDots 1.5s infinite;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .game-container {
                padding: 20px 15px;
            }
            
            .story-display {
                padding: 25px;
                min-height: 300px;
            }
            
            .story-title {
                font-size: 2em;
            }
            
            .story-content {
                font-size: 1.1em;
            }
        }
    </style>
</head>
<body>
    <div class="particles" id="particles"></div>
    
    <div class="game-container">
        <div class="story-display">
            <h1 class="story-title">çµå¢ƒæ–—å® å½•</h1>
            <div class="story-content">
                <div class="typewriter-text" id="story-text"></div>
            </div>
            <div class="loading-indicator" id="loading">
                <span>æ­£åœ¨ç”Ÿæˆå‰§æƒ…</span><span class="loading-dots"></span>
            </div>
        </div>
        
        <div class="choices-container" id="choices-container" style="display: none;">
            <!-- é€‰æ‹©æŒ‰é’®å°†åŠ¨æ€ç”Ÿæˆ -->
        </div>
    </div>

    <div class="author-info">
        ä½œè€…ï¼šæ ‘æ | å¾®ä¿¡ï¼šwzq8083
    </div>

    <script>
        class TypewriterAdventure {
            constructor() {
                this.storyTextElement = document.getElementById('story-text');
                this.choicesContainer = document.getElementById('choices-container');
                this.loadingIndicator = document.getElementById('loading');
                this.currentStoryIndex = 0;
                this.isTyping = false;
                
                this.initializeParticles();
                this.startAdventure();
            }

            // åˆå§‹åŒ–èƒŒæ™¯ç²’å­
            initializeParticles() {
                const particlesContainer = document.getElementById('particles');
                for (let i = 0; i < 50; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'particle';
                    particle.style.left = Math.random() * 100 + '%';
                    particle.style.top = Math.random() * 100 + '%';
                    particle.style.animationDelay = Math.random() * 6 + 's';
                    particle.style.animationDuration = (Math.random() * 3 + 3) + 's';
                    particlesContainer.appendChild(particle);
                }
            }

            // å¼€å§‹å†’é™©
            async startAdventure() {
                const openingStory = `
è¿œå¤æ—¶ä»£ï¼Œä¸€é¢—æ¥è‡ªä¸–ç•Œæ ‘çš„ç§å­é£˜è½åˆ°è¿™ç‰‡æœªçŸ¥çš„å¤§é™†ä¸Š...

ç§å­è½åœ°çš„ç¬é—´ï¼Œå¤§åœ°éœ‡é¢¤ï¼Œå±±å·é‡å¡‘ã€‚ä»ç§å­ä¸­æ¶Œå‡ºçš„ç”Ÿå‘½ä¹‹åŠ›å”¤é†’äº†æ²‰ç¡åœ¨å±±æµ·ä¹‹é—´çš„å¤è€ç”Ÿçµã€‚

é¾™æ—åœ¨äº‘ç«¯è‹é†’ï¼Œå‡¤å‡°åœ¨çƒˆç«ä¸­é‡ç”Ÿï¼Œéº’éºŸè¸ç€ç¥¥äº‘è€Œæ¥ï¼Œè€Œä¼ è¯´ä¸­çš„é²²é¹å±•ç¿…é®å¤©è”½æ—¥...

è¿™é‡Œæ˜¯çµå¢ƒï¼Œä¸€ä¸ªå……æ»¡å¥‡è¿¹ä¸å±é™©çš„ä¸–ç•Œã€‚åœ¨è¿™é‡Œï¼Œæ¯ä¸€ä¸ªç”Ÿçµéƒ½æ‹¥æœ‰ç€æ— é™çš„å¯èƒ½ï¼Œæ¯ä¸€æ¬¡ç›¸é‡éƒ½å¯èƒ½æ”¹å˜å‘½è¿çš„è½¨è¿¹ã€‚

è€Œä½ ï¼Œä½œä¸ºè¿™ä¸ªä¸–ç•Œçš„è§è¯è€…ï¼Œå³å°†è¸ä¸Šä¸€æ®µä¸å¯æ€è®®çš„æ—…ç¨‹...
                `.trim();

                await this.typewriterEffect(openingStory);
                
                setTimeout(() => {
                    this.showChoices([
                        { text: "ğŸŒ¸ å‰å¾€æ¨±èŠ±æ£®æ—ï¼Œå¯»æ‰¾æ¸©å’Œçš„ç²¾çµä¼™ä¼´", action: "forest" },
                        { text: "ğŸ”ï¸ æ”€ç™»é›ªå³°å±±è„‰ï¼ŒæŒ‘æˆ˜å¼ºå¤§çš„é¾™æ—", action: "mountain" },
                        { text: "ğŸŒŠ æ·±å…¥ç¢§æµ·æ·±æ¸Šï¼Œæ¢å¯»ç¥ç§˜çš„æµ·æ´‹ç”Ÿç‰©", action: "ocean" },
                        { text: "âœ¨ è¿›å…¥æ¢¦å¹»ç©ºé—´ï¼Œä¸ä¼ è¯´ä¸­çš„ç¥å…½ç›¸é‡", action: "dream" }
                    ]);
                }, 1000);
            }

            // æ‰“å­—æœºæ•ˆæœ
            async typewriterEffect(text, speed = 50) {
                this.isTyping = true;
                this.storyTextElement.innerHTML = '';
                this.storyTextElement.classList.add('typewriter-text');
                
                for (let i = 0; i < text.length; i++) {
                    if (!this.isTyping) break;
                    
                    this.storyTextElement.innerHTML += text[i];
                    
                    // å¦‚æœæ˜¯æ ‡ç‚¹ç¬¦å·ï¼Œç¨å¾®åœé¡¿
                    if ('ï¼Œã€‚ï¼ï¼Ÿï¼›ï¼š'.includes(text[i])) {
                        await this.sleep(speed * 3);
                    } else if (text[i] === '\n') {
                        await this.sleep(speed * 2);
                    } else {
                        await this.sleep(speed);
                    }
                }
                
                this.storyTextElement.classList.remove('typewriter-text');
                this.isTyping = false;
            }

            // æ˜¾ç¤ºé€‰æ‹©æŒ‰é’®
            showChoices(choices) {
                this.choicesContainer.innerHTML = '';
                this.choicesContainer.style.display = 'block';
                
                choices.forEach((choice, index) => {
                    const button = document.createElement('button');
                    button.className = 'choice-button';
                    button.textContent = choice.text;
                    button.style.animationDelay = (index * 0.2) + 's';
                    button.style.animation = 'slideInLeft 0.5s ease forwards';
                    
                    button.addEventListener('click', () => {
                        this.handleChoice(choice.action);
                    });
                    
                    this.choicesContainer.appendChild(button);
                });
            }

            // å¤„ç†é€‰æ‹©
            async handleChoice(action) {
                this.choicesContainer.style.display = 'none';
                this.showLoading();
                
                // æ¨¡æ‹ŸAIç”Ÿæˆå†…å®¹çš„å»¶è¿Ÿ
                await this.sleep(2000);
                
                this.hideLoading();
                
                let nextStory = '';
                let nextChoices = [];
                
                switch (action) {
                    case 'forest':
                        nextStory = `
ä½ è¸å…¥äº†æ¨±èŠ±æ£®æ—çš„æ·±å¤„ï¼Œç²‰è‰²çš„èŠ±ç“£å¦‚é›ªèŠ±èˆ¬é£˜è½ã€‚

åœ¨ä¸€ç‰‡èŠ±ç“£é›¨ä¸­ï¼Œä½ é‡åˆ°äº†ä¸€åªå°å°çš„ä¹å°¾ç‹å¹¼å´½ã€‚å®ƒçš„æ¯›å‘æ´ç™½å¦‚é›ªï¼Œçœ¼ä¸­é—ªçƒç€æ™ºæ…§çš„å…‰èŠ’ã€‚

"ä½ å¥½ï¼Œé™Œç”Ÿçš„æ—…è€…ã€‚"å°ç‹ç‹¸ç”¨æ¸…è„†çš„å£°éŸ³è¯´é“ï¼Œ"æˆ‘æ„Ÿå—åˆ°äº†ä½ èº«ä¸Šä¸–ç•Œæ ‘ç§å­çš„æ°”æ¯ã€‚ä¹Ÿè®¸ï¼Œæˆ‘ä»¬æ³¨å®šè¦æˆä¸ºä¼™ä¼´ã€‚"

ä¹å°¾ç‹çš„è¯è¯­ä¸­è•´å«ç€å¤è€çš„é­”åŠ›ï¼Œä½ æ„Ÿåˆ°ä¸€è‚¡æš–æµæ¶Œå…¥å¿ƒä¸­...
                        `;
                        nextChoices = [
                            { text: "ğŸ¤ æ¥å—ä¹å°¾ç‹æˆä¸ºä¼™ä¼´", action: "accept_fox" },
                            { text: "ğŸ” ç»§ç»­æ¢ç´¢æ£®æ—æ·±å¤„", action: "explore_forest" },
                            { text: "ğŸŒ¸ é‡‡é›†æ¨±èŠ±èŠ±ç“£åˆ¶ä½œçµè¯", action: "collect_petals" }
                        ];
                        break;
                        
                    case 'mountain':
                        nextStory = `
é›ªå³°å±±è„‰çš„å¯’é£åˆºéª¨ï¼Œä½†ä½ çš„å†…å¿ƒç‡ƒçƒ§ç€æ¢ç´¢çš„ç«ç„°ã€‚

åœ¨å±±å·…ä¹‹ä¸Šï¼Œä½ çœ‹åˆ°äº†ä¸€æ¡å·¨å¤§çš„å†°é¾™ç›˜è¸åœ¨å¤è€çš„ç¥æ®¿å‰ã€‚å®ƒçš„é³ç‰‡å¦‚æ°´æ™¶èˆ¬é€æ˜ï¼Œå‘¼å¸é—´åå‡ºçš„å¯’æ°”èƒ½å¤Ÿå†»ç»“ä¸€åˆ‡ã€‚

"å‡¡äººï¼Œä½ ä¸ºä½•æ¥åˆ°æˆ‘çš„é¢†åŸŸï¼Ÿ"å†°é¾™çš„å£°éŸ³å¦‚é›·é¸£èˆ¬å“å½»å±±è°·ï¼Œ"æ˜¯æ¥æŒ‘æˆ˜æˆ‘çš„å¨ä¸¥ï¼Œè¿˜æ˜¯å¯»æ±‚æˆ‘çš„åº‡æŠ¤ï¼Ÿ"

ä½ æ„Ÿå—åˆ°äº†å‰æ‰€æœªæœ‰çš„å‹è¿«æ„Ÿï¼Œä½†åŒæ—¶ä¹Ÿæ„Ÿå—åˆ°äº†å†°é¾™å†…å¿ƒæ·±å¤„çš„å­¤ç‹¬...
                        `;
                        nextChoices = [
                            { text: "âš”ï¸ å‹‡æ•¢åœ°å‘å†°é¾™å‘èµ·æŒ‘æˆ˜", action: "challenge_dragon" },
                            { text: "ğŸ™ è¯·æ±‚å†°é¾™ä¼ æˆå¤è€çš„æ™ºæ…§", action: "seek_wisdom" },
                            { text: "â„ï¸ å°è¯•ä¸å†°é¾™å»ºç«‹å‹è°Š", action: "befriend_dragon" }
                        ];
                        break;
                        
                    case 'ocean':
                        nextStory = `
ç¢§æµ·æ·±æ¸Šçš„æ°´ä¸‹ä¸–ç•Œç¾å¾—ä»¤äººçª’æ¯ï¼ŒçŠç‘šåŸå ¡åœ¨æµ·åº•é—ªé—ªå‘å…‰ã€‚

çªç„¶ï¼Œä¸€åªå·¨å¤§çš„é²²é±¼ä»æ·±æµ·ä¸­æµ®ç°ã€‚å®ƒçš„èº«èº¯å¦‚å±±å²³èˆ¬åºå¤§ï¼ŒèƒŒä¸Šé•¿æ»¡äº†å‘å…‰çš„è—»ç±»ï¼Œå®›å¦‚ç§»åŠ¨çš„æµ·åº•èŠ±å›­ã€‚

"å¹´è½»çš„æ¢ç´¢è€…ï¼Œ"é²²é±¼çš„å£°éŸ³åœ¨æ°´ä¸­å›è¡ï¼Œ"æˆ‘å·²åœ¨è¿™æ·±æµ·ä¸­æ¸¸å¼‹äº†åƒå¹´ã€‚ä½ çš„åˆ°æ¥è®©æˆ‘æƒ³èµ·äº†ä¸–ç•Œæ ‘åˆç”Ÿæ—¶çš„é‚£ä»½çº¯çœŸã€‚"

é²²é±¼çš„çœ¼ä¸­é—ªçƒç€å¤è€çš„æ™ºæ…§ï¼Œä»¿ä½›èƒ½çœ‹é€æ—¶é—´çš„é•¿æ²³...
                        `;
                        nextChoices = [
                            { text: "ğŸ‹ è¯·æ±‚é²²é±¼å¸¦ä½ æ¸¸å†æµ·åº•ä¸–ç•Œ", action: "ride_kun" },
                            { text: "ğŸ”± æ¢ç´¢æµ·åº•çš„å¤è€é—è¿¹", action: "explore_ruins" },
                            { text: "ğŸŒŠ å­¦ä¹ æ“æ§æµ·æ´‹çš„åŠ›é‡", action: "learn_ocean_power" }
                        ];
                        break;
                        
                    case 'dream':
                        nextStory = `
æ¢¦å¹»ç©ºé—´æ˜¯ä¸€ä¸ªè¶…è¶Šç°å®çš„å¥‡å¦™é¢†åŸŸï¼Œè¿™é‡Œçš„ä¸€åˆ‡éƒ½åœ¨ä¸æ–­å˜åŒ–ç€å½¢æ€ã€‚

åœ¨ä¸ƒå½©çš„å…‰èŠ’ä¸­ï¼Œä¸€åªå‡¤å‡°ç¼“ç¼“é™ä¸´ã€‚å®ƒçš„ç¾½æ¯›ç‡ƒçƒ§ç€æ°¸ä¸ç†„ç­çš„åœ£ç«ï¼Œæ¯ä¸€æ¬¡æŒ¯ç¿…éƒ½å¸¦æ¥æ–°ç”Ÿçš„å¸Œæœ›ã€‚

"å‘½è¿çš„å­©å­ï¼Œ"å‡¤å‡°çš„å£°éŸ³å¦‚å¤©ç±èˆ¬åŠ¨å¬ï¼Œ"ä½ æºå¸¦ç€ä¸–ç•Œæ ‘çš„ç¥ç¦æ¥åˆ°è¿™é‡Œã€‚åœ¨è¿™æ¢¦å¹»ç©ºé—´ä¸­ï¼Œä¸€åˆ‡çš†æœ‰å¯èƒ½ã€‚"

å‡¤å‡°çš„ç«ç„°ä¸ä¼šç¼ä¼¤ä½ ï¼Œåè€Œè®©ä½ æ„Ÿåˆ°å‰æ‰€æœªæœ‰çš„æ¸©æš–å’ŒåŠ›é‡...
                        `;
                        nextChoices = [
                            { text: "ğŸ”¥ æ¥å—å‡¤å‡°çš„æ¶…æ§ƒä¹‹ç«æ´—ç¤¼", action: "phoenix_rebirth" },
                            { text: "ğŸŒˆ æ¢ç´¢æ¢¦å¹»ç©ºé—´çš„å¥¥ç§˜", action: "explore_dream" },
                            { text: "âœ¨ è¯·æ±‚å‡¤å‡°é¢„è¨€æœªæ¥", action: "seek_prophecy" }
                        ];
                        break;
                        
                    default:
                        nextStory = "ä½ çš„é€‰æ‹©å¼€å¯äº†ä¸€ä¸ªå…¨æ–°çš„å†’é™©ç¯‡ç« ...";
                        nextChoices = [
                            { text: "ğŸ”„ é‡æ–°å¼€å§‹å†’é™©", action: "restart" }
                        ];
                }
                
                await this.typewriterEffect(nextStory);
                
                setTimeout(() => {
                    this.showChoices(nextChoices);
                }, 1000);
            }

            // æ˜¾ç¤ºåŠ è½½æŒ‡ç¤ºå™¨
            showLoading() {
                this.loadingIndicator.classList.add('show');
            }

            // éšè—åŠ è½½æŒ‡ç¤ºå™¨
            hideLoading() {
                this.loadingIndicator.classList.remove('show');
            }

            // å»¶è¿Ÿå‡½æ•°
            sleep(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            }
        }

        // é¡µé¢åŠ è½½å®Œæˆåå¯åŠ¨æ¸¸æˆ
        document.addEventListener('DOMContentLoaded', () => {
            new TypewriterAdventure();
        });

        // æ·»åŠ CSSåŠ¨ç”»
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideInLeft {
                from {
                    opacity: 0;
                    transform: translateX(-50px);
                }
                to {
                    opacity: 1;
                    transform: translateX(0);
                }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>