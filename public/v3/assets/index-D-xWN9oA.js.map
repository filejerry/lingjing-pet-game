{"version":3,"mappings":"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","names":["useStoryStore","defineStore","state","text","cssClass","lines","choices","scene","loading","error","props","__props","visible","ref","timer","typeClass","computed","iconComponent","show","close","watch","newMsg","__expose","_createBlock","_Teleport","_createVNode","_Transition","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_normalizeClass","_hoisted_2","_resolveDynamicComponent","_hoisted_3","_hoisted_4","_toDisplayString","storyStore","sceneAuraStyle","colors","_unref","RouterView","ToastNotification","routes","__vitePreload","router","createRouter","createWebHistory","to","_from","next","title","app","createApp","App","pinia","createPinia"],"ignoreList":[],"sources":["../../../client/src/stores/story.ts","../../../client/src/components/common/ToastNotification.vue","../../../client/src/App.vue","../../../client/src/router/index.ts","../../../client/src/main.ts"],"sourcesContent":["import { defineStore } from 'pinia'\r\nimport type { StoryLine, StoryChoice, SceneType } from '@/types/story'\r\n\r\nexport const useStoryStore = defineStore('story', {\r\n  state: () => ({\r\n    storyLines: [] as StoryLine[],\r\n    currentChoices: [] as StoryChoice[],\r\n    currentScene: 'forest' as SceneType,\r\n    loading: false,\r\n    error: null as string | null\r\n  }),\r\n\r\n  getters: {\r\n    sceneColors: (state): [string, string] => {\r\n      const colorMap: Record<SceneType, [string, string]> = {\r\n        volcano: ['rgba(255,60,60,0.14)', 'rgba(255,140,0,0.12)'],\r\n        sky: ['rgba(70,140,255,0.12)', 'rgba(160,120,255,0.10)'],\r\n        forest: ['rgba(60,200,120,0.10)', 'rgba(40,120,80,0.12)'],\r\n        desert: ['rgba(240,200,120,0.12)', 'rgba(200,160,80,0.10)'],\r\n        camp: ['rgba(100,100,100,0.10)', 'rgba(60,60,60,0.12)']\r\n      }\r\n      return colorMap[state.currentScene]\r\n    },\r\n\r\n    latestStoryLine: (state): StoryLine | null => {\r\n      return state.storyLines.length > 0\r\n        ? state.storyLines[state.storyLines.length - 1]\r\n        : null\r\n    }\r\n  },\r\n\r\n  actions: {\r\n    addStoryLine(text: string, cssClass?: string) {\r\n      this.storyLines.push({\r\n        text,\r\n        cssClass,\r\n        timestamp: Date.now()\r\n      })\r\n    },\r\n\r\n    addMultipleLines(lines: string[], cssClass?: string) {\r\n      lines.forEach(text => {\r\n        this.addStoryLine(text, cssClass)\r\n      })\r\n    },\r\n\r\n    setChoices(choices: StoryChoice[]) {\r\n      this.currentChoices = choices\r\n    },\r\n\r\n    clearChoices() {\r\n      this.currentChoices = []\r\n    },\r\n\r\n    setScene(scene: SceneType) {\r\n      this.currentScene = scene\r\n      this.addStoryLine(`åœºæ™¯åˆ‡æ¢: ${this.getSceneName(scene)}`, 'scene-change')\r\n    },\r\n\r\n    clearStoryLines() {\r\n      this.storyLines = []\r\n    },\r\n\r\n    getSceneName(scene: SceneType): string {\r\n      const nameMap: Record<SceneType, string> = {\r\n        volcano: 'ç«å±±è¾¹ç¼˜',\r\n        sky: 'äº‘æµ·ä¹‹å·…',\r\n        forest: 'é’æœ¨çµå¢ƒ',\r\n        desert: 'æµæ²™ç§˜å¢ƒ',\r\n        camp: 'è¥åœ°'\r\n      }\r\n      return nameMap[scene]\r\n    },\r\n\r\n    setLoading(loading: boolean) {\r\n      this.loading = loading\r\n    },\r\n\r\n    setError(error: string | null) {\r\n      this.error = error\r\n    }\r\n  }\r\n})\r\n","<template>\r\n  <Teleport to=\"body\">\r\n    <Transition name=\"fade\">\r\n      <div\r\n        v-if=\"visible\"\r\n        class=\"fixed top-4 right-4 z-50 max-w-sm\"\r\n      >\r\n        <div\r\n          class=\"card flex items-start gap-3 animate-slide-up\"\r\n          :class=\"typeClass\"\r\n        >\r\n          <div class=\"flex-shrink-0 mt-0.5\">\r\n            <component :is=\"iconComponent\" class=\"w-5 h-5\" />\r\n          </div>\r\n          <div class=\"flex-1\">\r\n            <p class=\"font-medium\">{{ message }}</p>\r\n          </div>\r\n          <button\r\n            @click=\"close\"\r\n            class=\"flex-shrink-0 hover:opacity-70 transition-opacity\"\r\n          >\r\n            <svg class=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n              <path fill-rule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clip-rule=\"evenodd\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </Transition>\r\n  </Teleport>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed, watch } from 'vue'\r\n\r\nexport interface ToastProps {\r\n  message: string\r\n  type?: 'success' | 'error' | 'warning' | 'info'\r\n  duration?: number\r\n}\r\n\r\nconst props = withDefaults(defineProps<ToastProps>(), {\r\n  type: 'info',\r\n  duration: 3000\r\n})\r\n\r\nconst visible = ref(false)\r\nlet timer: number | null = null\r\n\r\nconst typeClass = computed(() => {\r\n  const classes = {\r\n    success: 'border-green-500 bg-green-900/20',\r\n    error: 'border-red-500 bg-red-900/20',\r\n    warning: 'border-yellow-500 bg-yellow-900/20',\r\n    info: 'border-blue-500 bg-blue-900/20'\r\n  }\r\n  return classes[props.type]\r\n})\r\n\r\nconst iconComponent = computed(() => {\r\n  // è¿™é‡Œç®€åŒ–ä¸ºå­—ç¬¦ä¸²,å®é™…å¯ä»¥ç”¨å›¾æ ‡ç»„ä»¶\r\n  return 'div'\r\n})\r\n\r\nfunction show() {\r\n  visible.value = true\r\n  if (props.duration > 0) {\r\n    timer = window.setTimeout(() => {\r\n      close()\r\n    }, props.duration)\r\n  }\r\n}\r\n\r\nfunction close() {\r\n  visible.value = false\r\n  if (timer) {\r\n    clearTimeout(timer)\r\n    timer = null\r\n  }\r\n}\r\n\r\nwatch(() => props.message, (newMsg) => {\r\n  if (newMsg) {\r\n    show()\r\n  }\r\n})\r\n\r\ndefineExpose({ show, close })\r\n</script>\r\n\r\n<style scoped>\r\n.fade-enter-active,\r\n.fade-leave-active {\r\n  transition: opacity 0.3s;\r\n}\r\n\r\n.fade-enter-from,\r\n.fade-leave-to {\r\n  opacity: 0;\r\n}\r\n</style>\r\n","<template>\r\n  <div id=\"app\" class=\"min-h-screen bg-black text-white\">\r\n    <!-- åœºæ™¯æ°›å›´å±‚ -->\r\n    <div\r\n      class=\"scene-aura fixed inset-0 pointer-events-none transition-all duration-1000\"\r\n      :style=\"sceneAuraStyle\"\r\n    ></div>\r\n\r\n    <!-- ä¸»å†…å®¹åŒº -->\r\n    <div class=\"relative z-10\">\r\n      <RouterView />\r\n    </div>\r\n\r\n    <!-- å…¨å±€Toasté€šçŸ¥ -->\r\n    <ToastNotification />\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { computed } from 'vue'\r\nimport { RouterView } from 'vue-router'\r\nimport { useStoryStore } from '@/stores/story'\r\nimport ToastNotification from '@/components/common/ToastNotification.vue'\r\n\r\nconst storyStore = useStoryStore()\r\n\r\n// åœºæ™¯æ°›å›´æ¸å˜æ ·å¼\r\nconst sceneAuraStyle = computed(() => {\r\n  const colors = storyStore.sceneColors\r\n  return {\r\n    background: `repeating-linear-gradient(\r\n      -45deg,\r\n      ${colors[0]},\r\n      ${colors[0]} 20px,\r\n      ${colors[1]} 20px,\r\n      ${colors[1]} 40px\r\n    )`\r\n  }\r\n})\r\n</script>\r\n\r\n<style>\r\n@import './styles/base.css';\r\n</style>\r\n","import { createRouter, createWebHistory } from 'vue-router'\r\nimport type { RouteRecordRaw } from 'vue-router'\r\n\r\nconst routes: RouteRecordRaw[] = [\r\n  {\r\n    path: '/',\r\n    name: 'Home',\r\n    component: () => import('@/views/Home.vue'),\r\n    meta: { title: 'é¦–é¡µ' }\r\n  },\r\n  {\r\n    path: '/adventure',\r\n    name: 'Adventure',\r\n    component: () => import('@/views/Adventure.vue'),\r\n    meta: { title: 'å†’é™©æ¨¡å¼' }\r\n  },\r\n  {\r\n    path: '/evolution',\r\n    name: 'Evolution',\r\n    component: () => import('@/views/Evolution.vue'),\r\n    meta: { title: 'è¿›åŒ–ç³»ç»Ÿ' }\r\n  },\r\n  {\r\n    path: '/battle',\r\n    name: 'Battle',\r\n    component: () => import('@/views/Battle.vue'),\r\n    meta: { title: 'å¯¹æˆ˜ç³»ç»Ÿ' }\r\n  },\r\n  {\r\n    path: '/pets',\r\n    name: 'Pets',\r\n    component: () => import('@/views/Pets.vue'),\r\n    meta: { title: 'æˆ‘çš„å® ç‰©' }\r\n  },\r\n  {\r\n    path: '/settings',\r\n    name: 'Settings',\r\n    component: () => import('@/views/Settings.vue'),\r\n    meta: { title: 'è®¾ç½®' }\r\n  }\r\n]\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(import.meta.env.BASE_URL),\r\n  routes\r\n})\r\n\r\n// è·¯ç”±å®ˆå« - è®¾ç½®é¡µé¢æ ‡é¢˜\r\nrouter.beforeEach((to, _from, next) => {\r\n  const title = to.meta.title as string\r\n  if (title) {\r\n    document.title = `${title} - çµå¢ƒæ–—å® å½•`\r\n  }\r\n  next()\r\n})\r\n\r\nexport default router\r\n","import { createApp } from 'vue'\r\nimport { createPinia } from 'pinia'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport './styles/tailwind.css'\r\n\r\nconst app = createApp(App)\r\nconst pinia = createPinia()\r\n\r\napp.use(pinia)\r\napp.use(router)\r\n\r\napp.mount('#app')\r\n\r\nconsole.log('ğŸ¾ çµå¢ƒæ–—å® å½• v3.0.0 å·²å¯åŠ¨')\r\n"],"file":"assets/index-D-xWN9oA.js"}