import{u as h}from"./pet-B_LAlSfv.js";import{u as b}from"./useMCP-Ihbamx9p.js";import{a as g,r as x,h as s,e as k,j as t,f as C,y as P,x as w,u as d,t as r,F as p,z as _,o}from"./vue-vendor-BrcR7j7v.js";import"./ui-vendor-B9ygI19o.js";import"./index-D-xWN9oA.js";const E={class:"min-h-screen p-6"},B={class:"max-w-4xl mx-auto"},F={key:0,class:"space-y-6"},N={class:"card"},S={class:"flex items-center gap-4"},V={class:"flex-1"},j={class:"text-xl"},$={class:"text-gray-400"},z={class:"text-right"},D={class:"text-sm text-gray-400"},G={class:"text-sm text-gray-400"},L={class:"card"},M=["disabled"],T={key:1,class:"space-y-4"},q=["onClick"],A={class:"flex justify-between items-start mb-2"},H={class:"text-xl font-bold"},I={class:"text-sm text-gray-400"},J={class:"text-gray-400 text-sm mb-2"},K={class:"flex gap-2 flex-wrap"},O={key:2,class:"text-center py-8 text-gray-400"},Q={key:1,class:"card text-center py-12"},tt=g({__name:"Evolution",setup(R){const n=h(),{getEvolutionCandidates:m}=b(),l=x(!1),i=x(null);async function v(){if(n.currentPet){l.value=!0;try{i.value=await m(n.currentPet.id,[])}catch(c){console.error("加载进化候选失败:",c)}finally{l.value=!1}}}async function y(c){if(confirm(`确定要进化为 ${c} 吗?`)){l.value=!0;try{await n.evolve(c),alert("进化成功!"),i.value=null}catch(e){console.error("进化失败:",e),alert("进化失败,请重试")}finally{l.value=!1}}}return(c,e)=>{const f=w("router-link");return o(),s("div",E,[k(f,{to:"/",class:"btn-secondary mb-6 inline-block"},{default:C(()=>[...e[0]||(e[0]=[P(" ← 返回首页 ",-1)])]),_:1}),t("div",B,[e[5]||(e[5]=t("h1",{class:"text-4xl font-bold mb-6"},"✨ 进化系统",-1)),d(n).currentPet?(o(),s("div",F,[t("div",N,[e[1]||(e[1]=t("h2",{class:"text-2xl font-bold mb-4"},"当前宠物",-1)),t("div",S,[t("div",V,[t("p",j,r(d(n).currentPet.name),1),t("p",$,r(d(n).currentPet.species),1)]),t("div",z,[t("p",D,"等级 "+r(d(n).currentPet.level),1),t("p",G,"经验 "+r(d(n).currentPet.exp)+"/100",1)])])]),t("div",L,[e[3]||(e[3]=t("h2",{class:"text-2xl font-bold mb-4"},"进化候选",-1)),i.value?i.value.eligible?(o(),s("div",T,[(o(!0),s(p,null,_(i.value.candidates,a=>(o(),s("div",{key:a.path,class:"border border-gray-700 rounded p-4 hover:border-white transition-all cursor-pointer",onClick:u=>y(a.path)},[t("div",A,[t("h3",H,r(a.name),1),t("span",I,r((a.probability*100).toFixed(1))+"%",1)]),t("p",J,r(a.description),1),t("div",K,[(o(!0),s(p,null,_(a.requirements,u=>(o(),s("span",{key:u,class:"text-xs px-2 py-1 bg-gray-800 rounded"},r(u),1))),128))])],8,q))),128))])):(o(),s("div",O,[...e[2]||(e[2]=[t("p",null,"当前条件不满足进化要求",-1),t("p",{class:"text-sm mt-2"},"需要: 等级≥10, 经验≥100",-1)])])):(o(),s("button",{key:0,onClick:v,class:"btn-primary",disabled:l.value},r(l.value?"分析中...":"分析进化路径"),9,M))])])):(o(),s("div",Q,[...e[4]||(e[4]=[t("p",{class:"text-xl text-gray-400"},"请先选择一只宠物",-1)])]))])])}}});export{tt as default};
//# sourceMappingURL=Evolution-B-87qGD8.js.map
